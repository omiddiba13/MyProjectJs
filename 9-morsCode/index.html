<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ù…Ø¨Ø¯Ù„ Ù…ØªÙ† Ùˆ Ù…ÙˆØ±Ø³</title>
    <style>
      /* Ù¾Ø§ÛŒÙ‡ Ùˆ Ø±ÛŒØ³Øª Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      /* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒ ØµÙØ­Ù‡ */
      body {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
        padding: 2rem;
        color: #fff;
      }

      /* Ú©Ø§Ù†ØªÛŒÙ†Ø± Ø§ØµÙ„ÛŒ */
      .container {
        width: 100%;
        max-width: 800px;
        background: rgba(255, 255, 255, 0.1);
        padding: 2rem;
        border-radius: 20px;
        backdrop-filter: blur(10px);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      }

      /* Ø¹Ù†ÙˆØ§Ù† */
      h1 {
        text-align: center;
        margin-bottom: 2rem;
        font-size: 2.5rem;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
      }

      /* Ù†Ø§Ø­ÛŒÙ‡ Ù…ØªÙ† */
      .text-area {
        width: 100%;
        padding: 1.5rem;
        font-size: 1.2rem;
        border: 2px solid rgba(255, 255, 255, 0.2);
        border-radius: 10px;
        background: rgba(255, 255, 255, 0.05);
        color: #fff;
        resize: vertical;
        transition: all 0.3s ease;
      }

      .text-area:focus {
        outline: none;
        border-color: #4a90e2;
        box-shadow: 0 0 15px rgba(74, 144, 226, 0.3);
      }

      /* Ú¯Ø±ÙˆÙ‡ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ */
      .button-group {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
        justify-content: center;
        margin: 1.5rem 0;
      }

      /* Ø§Ø³ØªØ§ÛŒÙ„ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ */
      .btn {
        padding: 0.8rem 1.5rem;
        font-size: 1.1rem;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .btn-primary {
        background: #4a90e2;
        color: white;
      }

      .btn-secondary {
        background: #2ecc71;
        color: white;
      }

      .btn-danger {
        background: #e74c3c;
        color: white;
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      .btn:active {
        transform: translateY(0);
      }

      /* ÙÙ„Ø´ Ù„Ø§ÛŒØª */
      .flashlight {
        width: 100px;
        height: 100px;
        background: rgba(0, 0, 0, 0.5);
        border-radius: 50%;
        margin: 2rem auto;
        transition: all 0.1s ease;
        box-shadow: 0 0 30px rgba(255, 255, 255, 0.1);
      }

      .flashlight.active {
        background: rgba(255, 255, 255, 0.9);
        box-shadow: 0 0 50px rgba(255, 255, 255, 0.5);
      }

      /* Ø±Ø³Ù¾Ø§Ù†Ø³ÛŒÙˆ */
      @media (max-width: 768px) {
        .container {
          padding: 1rem;
        }

        h1 {
          font-size: 2rem;
        }

        .btn {
          width: 100%;
          justify-content: center;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸ”¤ Ù…Ø¨Ø¯Ù„ Ù…ØªÙ† Ùˆ Ú©Ø¯ Ù…ÙˆØ±Ø³ ğŸ”£</h1>
      <textarea
        id="textInput"
        class="text-area"
        placeholder="Ù…ØªÙ† ÛŒØ§ Ú©Ø¯ Ù…ÙˆØ±Ø³ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯..."
        rows="5"></textarea>

      <div class="button-group">
        <button class="btn btn-primary" onclick="convertToMorse()">
          ğŸ“ ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ù…ÙˆØ±Ø³
        </button>
        <button class="btn btn-primary" onclick="convertToText()">
          ğŸ”  ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ù…ØªÙ†
        </button>
        <button class="btn btn-secondary" onclick="playMorse()">
          â–¶ï¸ Ù¾Ø®Ø´ Ù…ÙˆØ±Ø³
        </button>
      </div>

      <div id="flashlight" class="flashlight"></div>
    </div>

    <script>
      // Ù†Ù‚Ø´Ù‡ Ú©Ø¯ Ù…ÙˆØ±Ø³
      const morseCodeMap = {
        A: ".-",
        B: "-...",
        C: "-.-.",
        D: "-..",
        E: ".",
        F: "..-.",
        G: "--.",
        H: "....",
        I: "..",
        J: ".---",
        K: "-.-",
        L: ".-..",
        M: "--",
        N: "-.",
        O: "---",
        P: ".--.",
        Q: "--.-",
        R: ".-.",
        S: "...",
        T: "-",
        U: "..-",
        V: "...-",
        W: ".--",
        X: "-..-",
        Y: "-.--",
        Z: "--..",
        0: "-----",
        1: ".----",
        2: "..---",
        3: "...--",
        4: "....-",
        5: ".....",
        6: "-....",
        7: "--...",
        8: "---..",
        9: "----.",
        " ": "/",
      };

      // Ù†Ù‚Ø´Ù‡ Ù…Ø¹Ú©ÙˆØ³ Ú©Ø¯ Ù…ÙˆØ±Ø³
      const reverseMorseCodeMap = Object.fromEntries(
        Object.entries(morseCodeMap).map(([key, value]) => [value, key]),
      );

      // ØªØ¨Ø¯ÛŒÙ„ Ù…ØªÙ† Ø¨Ù‡ Ú©Ø¯ Ù…ÙˆØ±Ø³
      function convertToMorse() {
        let text = document.getElementById("textInput").value.toUpperCase();
        let morse = text
          .split("")
          .map((char) => morseCodeMap[char] || "")
          .join(" ");
        document.getElementById("textInput").value = morse;
      }

      // ØªØ¨Ø¯ÛŒÙ„ Ú©Ø¯ Ù…ÙˆØ±Ø³ Ø¨Ù‡ Ù…ØªÙ†
      function convertToText() {
        let morse = document.getElementById("textInput").value;
        let text = morse
          .split(" ")
          .map((code) => reverseMorseCodeMap[code] || "")
          .join("");
        document.getElementById("textInput").value = text;
      }

      // Ù¾Ø®Ø´ Ú©Ø¯ Ù…ÙˆØ±Ø³ Ø¨Ø§ ØµØ¯Ø§ Ùˆ Ù†ÙˆØ±
      function playMorse() {
        let morse = document.getElementById("textInput").value;
        let flashlight = document.getElementById("flashlight");
        let audioContext = new (window.AudioContext ||
          window.webkitAudioContext)();
        let index = 0;

        function flash() {
          if (index >= morse.length) return;

          let duration = morse[index] === "." ? 200 : 600; // Ù…Ø¯Øª Ø²Ù…Ø§Ù† Ø¨Ø±Ø§ÛŒ Ù†Ù‚Ø·Ù‡ Ùˆ Ø®Ø·
          flashlight.style.backgroundColor =
            morse[index] === "." ? "white" : "black";

          // Ø§ÛŒØ¬Ø§Ø¯ ØµØ¯Ø§
          let oscillator = audioContext.createOscillator();
          oscillator.type = "sine";
          oscillator.frequency.setValueAtTime(600, audioContext.currentTime);
          oscillator.connect(audioContext.destination);
          oscillator.start();
          oscillator.stop(audioContext.currentTime + duration / 1000);

          setTimeout(() => {
            flashlight.style.backgroundColor = "black";
            index++;
            setTimeout(flash, 300); // ØªØ§Ø®ÛŒØ± Ø¨ÛŒÙ† Ú©Ø§Ø±Ø§Ú©ØªØ±Ù‡Ø§
          }, duration);
        }
        flash();
      }
    </script>
  </body>
</html>
